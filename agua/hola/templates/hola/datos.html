{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bit치cora</title>
    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.css">
    <!-- jQuery (requerido por DataTables) -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- DataTables JS -->
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <!-- Tu archivo CSS personalizado -->
    <link rel="stylesheet" href="{% static 'hola/style1.css' %}" media="all">
    <style>
        /* Estilos adicionales para la tabla */
        #tablaBitacoras {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
        }
        #tablaBitacoras th, #tablaBitacoras td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        #tablaBitacoras th {
            background-color: #f4f4f4;
            font-weight: bold;
        }
        #tablaBitacoras tr:hover {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Formulario para importar Excel -->
        <form action="{% url 'importar_excel' %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="file" name="archivo_excel" accept=".xlsx">
            <button type="submit">游닋 Importar Excel</button>
        </form>

        <!-- T칤tulo de la tabla -->
        <h1>Registro de Bit치cora</h1>

        <!-- Tabla de bit치coras -->
        <table id="tablaBitacoras" class="display">
            <thead>
                <tr>
                    <th>Fecha y Hora</th>
                    <th>N칰mero de Muestra</th>
                    <th>Nivel (m)</th>
                    <th>pH</th>
                    <th>TOC (mg/L)</th>
                    <th>DQO (mg/L)</th>
                    <th>Temperatura (춿C)</th>
                    <th>Supervisor</th>
                </tr>
            </thead>
            <tbody>
                {% for bitacora in bitacoras %}
                <tr>
                    <td>{{ bitacora.fecha_hora }}</td>
                    <td>{{ bitacora.numero_muestra }}</td>
                    <td>{{ bitacora.nivel_agua }}</td>
                    <td>{{ bitacora.ph }}</td>
                    <td>{{ bitacora.toc }}</td>
                    <td>{{ bitacora.dqo }}</td>
                    <td>{{ bitacora.temperatura }}</td>
                    <td>{{ bitacora.supervisor }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="8">No hay registros en la bit치cora.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Script para inicializar DataTables -->
    <script>
        $(document).ready(function() {
            $('#tablaBitacoras').DataTable({
                "language": {
                    "url": "//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json"  // Traducci칩n al espa침ol
                },
                "paging": true,         // Habilitar paginaci칩n
                "searching": true,      // Habilitar b칰squeda
                "ordering": true,       // Habilitar ordenamiento
                "info": true,           // Mostrar informaci칩n de la tabla
                "autoWidth": false      // Deshabilitar ajuste autom치tico de ancho
            });
        });
    </script>
</body>
</html>